import { useState, useEffect } from 'react'
import { useNavigate, Link } from "react-router-dom"
import axios from '../../utils/crud'
import Footer from "../Footer/Footer";
import './Place.css'

function Place() {

    let navigate = useNavigate()

    const [magicPlace, setMagicPlace] = useState({})
    useEffect(()=>{
        async function fetchData(){
            const getURLID = ()=>{
                const params = new URLSearchParams(document.location.search)
                const id = params.get("id")
               return id
            }
            let _id = getURLID()
            const req = await axios.get(`/api/place/${_id}`)
            setMagicPlace(req.data.data)

        }
        fetchData()
    },[])
    
    return ( 
        <section>
        <div className="main_place">
            <div className='double_line'>

            </div>
            <div className='head_magic'>
                <div className='category'>
                    <h4>ON SALE</h4>
                    <svg width="70" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect y="0.5" width="70" height="2" fill="black"/>
                    </svg>
                </div>
                <div className='place_title'>
                    <h2>{magicPlace.name}</h2>
                    <p>{magicPlace.location}, Mx</p>
                </div>
                <div className='category'>
                    <h4>ON SALE</h4>
                    <svg width="70" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect y="0.5" width="70" height="2" fill="black"/>
                    </svg>
                </div>
            </div>
            <div className="white_box">

            </div>
            <div className="black_box">

            </div>
            <div className="magic_place">
                <div className="magic_house" style={{backgroundImage: `url(${magicPlace.imgUrl})`}}>
                    <button onClick={()=>{navigate(-1)}}>
                        <svg width="28" height="28" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.71875 2.12501C3.85965 2.12501 3.99477 2.18098 4.0944 2.28061C4.19403 2.38024 4.25 2.51536 4.25 2.65626V7.18616L11.9787 2.5603C12.1572 2.45171 12.3616 2.39307 12.5705 2.3905C12.7795 2.38793 12.9852 2.44153 13.1664 2.54569C13.5648 2.77147 13.8125 3.20975 13.8125 3.68555V13.3145C13.8125 13.7916 13.5648 14.2285 13.1664 14.4543C12.9852 14.5584 12.7794 14.6119 12.5705 14.6093C12.3616 14.6067 12.1572 14.548 11.9787 14.4394L4.25 9.81386V14.3438C4.25 14.4847 4.19403 14.6198 4.0944 14.7194C3.99477 14.819 3.85965 14.875 3.71875 14.875C3.57785 14.875 3.44273 14.819 3.3431 14.7194C3.24347 14.6198 3.1875 14.4847 3.1875 14.3438V2.65626C3.1875 2.51536 3.24347 2.38024 3.3431 2.28061C3.44273 2.18098 3.57785 2.12501 3.71875 2.12501V2.12501Z" fill="#978EFF"/>
                        </svg>
                    </button>
                </div>
                <div className="magic_house_specs">
                    <div className="m_icons">
                        <svg width="25" height="25" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.875 9.01172C16.481 8.83875 16.0553 8.74963 15.625 8.75H4.375C3.94473 8.74958 3.51907 8.83857 3.125 9.01133C2.56805 9.25489 2.09412 9.65543 1.76113 10.164C1.42815 10.6726 1.25053 11.2671 1.25 11.875V16.25C1.25 16.4158 1.31585 16.5747 1.43306 16.6919C1.55027 16.8092 1.70924 16.875 1.875 16.875C2.04076 16.875 2.19973 16.8092 2.31694 16.6919C2.43415 16.5747 2.5 16.4158 2.5 16.25V15.9375C2.50101 15.8549 2.53426 15.776 2.59265 15.7176C2.65104 15.6593 2.72993 15.626 2.8125 15.625H17.1875C17.2701 15.626 17.349 15.6593 17.4074 15.7176C17.4657 15.776 17.499 15.8549 17.5 15.9375V16.25C17.5 16.4158 17.5658 16.5747 17.6831 16.6919C17.8003 16.8092 17.9592 16.875 18.125 16.875C18.2908 16.875 18.4497 16.8092 18.5669 16.6919C18.6842 16.5747 18.75 16.4158 18.75 16.25V11.875C18.7494 11.2672 18.5717 10.6727 18.2388 10.1642C17.9058 9.65574 17.4319 9.25525 16.875 9.01172ZM14.6875 3.125H5.3125C4.73234 3.125 4.17594 3.35547 3.7657 3.7657C3.35547 4.17594 3.125 4.73234 3.125 5.3125V8.125C3.12502 8.14921 3.13066 8.17309 3.14149 8.19475C3.15231 8.21641 3.16803 8.23525 3.18738 8.2498C3.20674 8.26434 3.22921 8.27419 3.25303 8.27857C3.27684 8.28294 3.30135 8.28172 3.32461 8.275C3.6658 8.17521 4.01951 8.1247 4.375 8.125H4.54023C4.5788 8.12524 4.6161 8.11122 4.64494 8.08562C4.67379 8.06002 4.69215 8.02465 4.69648 7.98633C4.73057 7.68093 4.87596 7.3988 5.10488 7.1938C5.3338 6.9888 5.63021 6.87531 5.9375 6.875H8.125C8.43249 6.87502 8.72919 6.98839 8.95835 7.19341C9.18752 7.39843 9.33308 7.68073 9.36719 7.98633C9.37153 8.02465 9.38988 8.06002 9.41873 8.08562C9.44758 8.11122 9.48487 8.12524 9.52344 8.125H10.4789C10.5175 8.12524 10.5548 8.11122 10.5836 8.08562C10.6125 8.06002 10.6308 8.02465 10.6352 7.98633C10.6692 7.68113 10.8144 7.39916 11.0431 7.19419C11.2718 6.98922 11.5679 6.8756 11.875 6.875H14.0625C14.37 6.87502 14.6667 6.98839 14.8959 7.19341C15.125 7.39843 15.2706 7.68073 15.3047 7.98633C15.309 8.02465 15.3274 8.06002 15.3562 8.08562C15.3851 8.11122 15.4224 8.12524 15.4609 8.125H15.625C15.9805 8.12483 16.3342 8.17547 16.6754 8.27539C16.6987 8.28212 16.7232 8.28333 16.7471 8.27894C16.7709 8.27455 16.7934 8.26466 16.8128 8.25007C16.8321 8.23548 16.8478 8.21659 16.8586 8.19488C16.8694 8.17317 16.875 8.14925 16.875 8.125V5.3125C16.875 4.73234 16.6445 4.17594 16.2343 3.7657C15.8241 3.35547 15.2677 3.125 14.6875 3.125Z" fill="white"/>
                        </svg>
                        <p>{magicPlace.rooms} Rooms</p>
                    </div>
                    <div className="m_icons">
                        <svg width="25" height="25" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.22767 14.1121C4.34447 14.1121 3.62611 13.793 3.08744 13.1594C2.54877 12.5258 2.19525 11.5855 1.98939 10.2176C1.68627 8.20156 1.98705 6.50234 2.83627 5.4332C3.33627 4.80352 3.99252 4.43945 4.73392 4.38086C5.36869 4.33008 6.31752 4.5875 7.23392 6.09961C7.80775 7.04648 8.24408 8.3043 8.43119 9.55039C8.65736 11.0547 8.489 12.1621 7.91634 12.9352C7.46166 13.5492 6.76244 13.9297 5.83783 14.068C5.6358 14.0976 5.43187 14.1124 5.22767 14.1121ZM6.75775 19.375C6.24173 19.375 5.71869 19.2098 5.24759 18.8922C4.5678 18.4315 4.09726 17.7212 3.93822 16.9156C3.82689 16.343 3.89369 15.8879 4.14213 15.5234C4.54564 14.9316 5.26986 14.7984 6.03627 14.657C6.11713 14.6422 6.19916 14.6273 6.28236 14.6113C6.45892 14.5777 6.63939 14.5332 6.81439 14.4898C7.46986 14.3281 8.14798 14.1605 8.70775 14.5582C9.08236 14.8238 9.29368 15.2754 9.35697 15.9379C9.42884 16.7023 9.26478 17.4652 8.89486 18.0863C8.49681 18.7547 7.89994 19.1965 7.21517 19.3309C7.06448 19.3603 6.91129 19.3751 6.75775 19.375ZM14.7722 10.3621C14.5682 10.3614 14.3645 10.3458 14.1628 10.3152C13.2386 10.1785 12.5394 9.79766 12.0847 9.18242C11.512 8.40938 11.3425 7.30234 11.5699 5.79766C11.757 4.55039 12.1921 3.29375 12.7632 2.35039C13.6749 0.84375 14.6249 0.582422 15.2632 0.628516C16.0023 0.682422 16.6573 1.04141 17.1581 1.66758C18.0132 2.73672 18.3163 4.44102 18.012 6.46602C17.8062 7.8332 17.4573 8.76875 16.914 9.40781C16.3706 10.0469 15.6554 10.3621 14.7722 10.3621ZM13.2421 15.625C13.089 15.625 12.9362 15.6102 12.7859 15.5809C12.0999 15.4465 11.5031 15.0047 11.1062 14.3363C10.7363 13.7152 10.5722 12.9523 10.6441 12.1879C10.7066 11.5238 10.9175 11.0738 11.2933 10.8078C11.8531 10.4105 12.5312 10.5777 13.1866 10.7398C13.3616 10.7828 13.5421 10.8273 13.7187 10.8613L13.9644 10.907C14.7312 11.048 15.4554 11.1805 15.8589 11.773C16.1073 12.1375 16.1741 12.5934 16.0628 13.1652C15.9039 13.971 15.4334 14.6815 14.7534 15.1422C14.2796 15.4602 13.7566 15.625 13.2421 15.625Z" fill="white"/>
                        </svg>
                        <p>{magicPlace.area}m2</p>
                    </div>
                    <div className="m_icons">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4.75467 1.25001C4.72875 1.24977 4.70317 1.25598 4.68025 1.26809C4.65733 1.2802 4.63778 1.29782 4.62337 1.31936C4.60895 1.34091 4.60012 1.3657 4.59768 1.39151C4.59523 1.41731 4.59925 1.44332 4.60936 1.46719L4.6992 1.6793L6.28905 5.38634C6.29985 5.41155 6.3171 5.43348 6.33907 5.44991C6.36103 5.46634 6.38693 5.4767 6.41417 5.47995C6.44141 5.4832 6.46902 5.47921 6.49424 5.4684C6.51945 5.4576 6.54137 5.44034 6.5578 5.41837L9.49218 1.50001C9.50959 1.47679 9.52019 1.44919 9.52279 1.42029C9.5254 1.39139 9.51991 1.36233 9.50693 1.33638C9.49395 1.31043 9.474 1.2886 9.44932 1.27334C9.42464 1.25809 9.39619 1.25001 9.36718 1.25001H4.75467ZM16.4035 2.26798L14.791 6.03244C14.7809 6.0562 14.7768 6.08211 14.7791 6.10785C14.7814 6.13358 14.7901 6.15834 14.8044 6.1799C14.8186 6.20145 14.838 6.21914 14.8607 6.23138C14.8835 6.24362 14.9089 6.25002 14.9348 6.25001H18.8801C18.9079 6.25003 18.9353 6.24259 18.9593 6.22848C18.9833 6.21436 19.0031 6.19408 19.0167 6.16974C19.0302 6.1454 19.037 6.11788 19.0364 6.09002C19.0357 6.06217 19.0276 6.03501 19.0129 6.01134L16.6797 2.24727C16.6646 2.22304 16.6432 2.2034 16.6177 2.19048C16.5923 2.17756 16.5638 2.17186 16.5353 2.17399C16.5069 2.17613 16.4795 2.18601 16.4563 2.20258C16.4331 2.21915 16.4148 2.24177 16.4035 2.26798ZM3.32029 2.24884L0.987866 6.01134C0.973171 6.03501 0.965071 6.06217 0.964404 6.09002C0.963737 6.11788 0.970529 6.1454 0.984075 6.16974C0.997621 6.19408 1.01743 6.21436 1.04145 6.22848C1.06547 6.24259 1.09282 6.25003 1.12068 6.25001H5.066C5.09185 6.24998 5.1173 6.24354 5.14005 6.23125C5.1628 6.21897 5.18215 6.20123 5.19636 6.17962C5.21057 6.15802 5.21919 6.13323 5.22146 6.10747C5.22373 6.08172 5.21957 6.0558 5.20936 6.03204L3.59373 2.26954C3.58217 2.24398 3.56395 2.222 3.54098 2.20592C3.518 2.18983 3.49112 2.18022 3.46315 2.1781C3.43518 2.17598 3.40716 2.18143 3.38202 2.19388C3.35689 2.20633 3.33556 2.22531 3.32029 2.24884ZM15.3621 1.25001H10.4617C10.4476 1.24992 10.4337 1.25378 10.4216 1.26117C10.4096 1.26856 10.3998 1.27917 10.3935 1.29181C10.3871 1.30445 10.3845 1.31861 10.3858 1.33269C10.387 1.34677 10.3922 1.36021 10.4008 1.37149L13.5226 5.53009C13.5306 5.54077 13.5413 5.54917 13.5535 5.55442C13.5658 5.55968 13.5792 5.56161 13.5924 5.56003C13.6056 5.55844 13.6182 5.55339 13.6289 5.54539C13.6395 5.5374 13.6479 5.52673 13.6531 5.51447L15.2969 1.67969L15.4297 1.35391C15.4344 1.34273 15.4363 1.33058 15.4352 1.3185C15.4342 1.30643 15.4302 1.29478 15.4237 1.28457C15.4172 1.27435 15.4083 1.26587 15.3977 1.25985C15.3872 1.25383 15.3754 1.25046 15.3633 1.25001H15.3621ZM9.33593 17.5L5.84256 7.59806C5.8323 7.56931 5.81339 7.54444 5.78841 7.52688C5.76344 7.50932 5.73364 7.49994 5.70311 7.50002H1.00388C0.97666 7.49994 0.949964 7.50751 0.926835 7.52186C0.903706 7.53622 0.885075 7.55678 0.873064 7.58121C0.861053 7.60564 0.856145 7.63295 0.858901 7.66004C0.861656 7.68712 0.871963 7.71288 0.888648 7.73439L9.32616 18.6645C9.35472 18.7015 9.39547 18.7271 9.44117 18.7369C9.48686 18.7467 9.53455 18.74 9.57577 18.718C9.61723 18.6962 9.64946 18.6602 9.6666 18.6166C9.68374 18.573 9.68464 18.5247 9.66913 18.4805L9.33593 17.5ZM18.9961 7.50002H14.2969C14.2665 7.50001 14.2369 7.50944 14.2121 7.52701C14.1873 7.54457 14.1686 7.5694 14.1586 7.59806L10.3226 18.4637C10.3065 18.5093 10.3072 18.5592 10.3245 18.6044C10.3418 18.6495 10.3747 18.687 10.4172 18.7102C10.4597 18.7332 10.509 18.7404 10.5562 18.7304C10.6035 18.7205 10.6458 18.6941 10.6754 18.6559L19.1113 7.73439C19.128 7.71288 19.1383 7.68712 19.1411 7.66004C19.1438 7.63295 19.1389 7.60564 19.1269 7.58121C19.1149 7.55678 19.0963 7.53622 19.0731 7.52186C19.05 7.50751 19.0233 7.49994 18.9961 7.50002ZM10.125 3.08321L12.3125 6.00001C12.3299 6.02323 12.3405 6.05083 12.3431 6.07973C12.3457 6.10863 12.3402 6.13769 12.3272 6.16364C12.3143 6.1896 12.2943 6.21142 12.2696 6.22668C12.245 6.24193 12.2165 6.25001 12.1875 6.25001H7.81249C7.78347 6.25001 7.75502 6.24193 7.73034 6.22668C7.70566 6.21142 7.68571 6.1896 7.67273 6.16364C7.65975 6.13769 7.65426 6.10863 7.65687 6.07973C7.65947 6.05083 7.67007 6.02323 7.68749 6.00001L9.87499 3.08321C9.88954 3.06381 9.90842 3.04806 9.93011 3.03721C9.95181 3.02636 9.97573 3.02071 9.99999 3.02071C10.0242 3.02071 10.0482 3.02636 10.0699 3.03721C10.0916 3.04806 10.1104 3.06381 10.125 3.08321ZM9.85155 15.2047L7.20702 7.70822C7.19871 7.68466 7.19617 7.65946 7.19962 7.63472C7.20306 7.60998 7.21239 7.58643 7.22681 7.56604C7.24123 7.54565 7.26034 7.52901 7.28252 7.51752C7.30469 7.50603 7.3293 7.50003 7.35428 7.50002H12.6457C12.6707 7.50003 12.6953 7.50603 12.7175 7.51752C12.7396 7.52901 12.7587 7.54565 12.7732 7.56604C12.7876 7.58643 12.7969 7.60998 12.8004 7.63472C12.8038 7.65946 12.8013 7.68466 12.793 7.70822L10.1473 15.2047C10.1365 15.2351 10.1165 15.2615 10.0901 15.2801C10.0638 15.2987 10.0323 15.3087 9.99999 15.3087C9.9677 15.3087 9.93621 15.2987 9.90984 15.2801C9.88347 15.2615 9.86351 15.2351 9.85272 15.2047H9.85155Z" fill="white"/>
                        </svg>
                        <p>{magicPlace.conditions}</p>
                    </div>
                </div>
                <div className="magic_house_info">
                    <p>{magicPlace.about}</p>
                </div>
                <div className="magic_house_location">
                    <svg width="25" height="25" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 1.25C6.54961 1.25 3.75 3.76992 3.75 6.875C3.75 11.875 10 18.75 10 18.75C10 18.75 16.25 11.875 16.25 6.875C16.25 3.76992 13.4504 1.25 10 1.25ZM10 10C9.50555 10 9.0222 9.85338 8.61107 9.57867C8.19995 9.30397 7.87952 8.91352 7.6903 8.45671C7.50108 7.99989 7.45157 7.49723 7.54804 7.01227C7.6445 6.52732 7.8826 6.08186 8.23223 5.73223C8.58186 5.3826 9.02732 5.1445 9.51227 5.04804C9.99723 4.95157 10.4999 5.00108 10.9567 5.1903C11.4135 5.37952 11.804 5.69995 12.0787 6.11107C12.3534 6.5222 12.5 7.00555 12.5 7.5C12.4993 8.16282 12.2357 8.79828 11.767 9.26697C11.2983 9.73565 10.6628 9.99928 10 10Z" fill="white"/>
                    </svg>
                    <p>{magicPlace.address} {magicPlace.location}, México</p>
                </div>
                <div className="magic_house_price_contact">
                    <h3>{magicPlace.price}.000 USD</h3><Link to={'/contact'}><button>Contact</button></Link>
                </div>
            </div>

        </div>
        <Footer/>
        </section>
     );
}

export default Place;