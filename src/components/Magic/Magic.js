import { useState, useEffect } from 'react'
import axios from '../../utils/crud'
import { Link } from "react-router-dom"
import './Magic.css'

function Magic() {

    const [magicPlaces, setMagicPlaces] = useState([])
    useEffect(()=>{
        async function fetchData(){
            const req = await axios.get('/api/place/category?category=TOP')
            setMagicPlaces(req.data.data)
        }
        fetchData()
    },[])
    return ( 
        <div className="magic">
            <div className='double_line'>

            </div>
            <div className='head_magic'>
                <div className='category'>
                    <h4>TOP</h4>
                    <svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect y="0.5" width="40" height="2" fill="black"/>
                    </svg>
                </div>
                <div className='match_title'>
                    <h2>Our Magic Places</h2>
                </div>
                <div className='category'>
                    <h4>TOP</h4>
                    <svg width="40" height="3" viewBox="0 0 40 3" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect y="0.5" width="40" height="2" fill="black"/>
                    </svg>
                </div>
            </div>

            <div className="magic_places">
                
                {magicPlaces.map(place=>{
                    return <div className="m_place">
                    <div className="m_place_img" style={{backgroundImage: `url(${place.imgUrl})`}} >

                    </div>
                    <div className="m_place_info">
                        <h3>{place.name}</h3>
                        <h4>{place.price}.000 USD</h4>
                        <div className="m_place_location">
                            <svg width="15" height="15" viewBox="0 0 8 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3.99774 0.625C2.27255 0.625 0.872742 1.88496 0.872742 3.4375C0.872742 5.9375 3.99774 9.375 3.99774 9.375C3.99774 9.375 7.12274 5.9375 7.12274 3.4375C7.12274 1.88496 5.72294 0.625 3.99774 0.625ZM3.99774 5C3.75051 5 3.50884 4.92669 3.30328 4.78934C3.09772 4.65199 2.9375 4.45676 2.84289 4.22835C2.74828 3.99995 2.72353 3.74861 2.77176 3.50614C2.81999 3.26366 2.93904 3.04093 3.11386 2.86612C3.28867 2.6913 3.5114 2.57225 3.75388 2.52402C3.99636 2.47579 4.24769 2.50054 4.4761 2.59515C4.7045 2.68976 4.89973 2.84998 5.03708 3.05554C5.17443 3.2611 5.24774 3.50277 5.24774 3.75C5.24738 4.08141 5.11557 4.39914 4.88123 4.63348C4.64688 4.86783 4.32915 4.99964 3.99774 5Z" fill="white"/>
                            </svg>
                            <p>{place.location}, Mx</p>
                        </div>
                        <div className="m_place_specs">
                            <div className="m_place_specs_icon">
                                <svg width="15" height="15" viewBox="0 0 10 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8.43524 3.50586C8.23823 3.41938 8.02539 3.37481 7.81024 3.375H2.18524C1.97011 3.37479 1.75728 3.41929 1.56024 3.50566C1.28177 3.62744 1.0448 3.82772 0.878307 4.082C0.711814 4.33628 0.623008 4.63356 0.622742 4.9375V7.125C0.622742 7.20788 0.655666 7.28737 0.714271 7.34597C0.772876 7.40458 0.852362 7.4375 0.935242 7.4375C1.01812 7.4375 1.09761 7.40458 1.15621 7.34597C1.21482 7.28737 1.24774 7.20788 1.24774 7.125V6.96875C1.24825 6.92747 1.26487 6.88802 1.29407 6.85882C1.32326 6.82963 1.36271 6.81301 1.40399 6.8125H8.59149C8.63277 6.81301 8.67222 6.82963 8.70142 6.85882C8.73061 6.88802 8.74724 6.92747 8.74774 6.96875V7.125C8.74774 7.20788 8.78067 7.28737 8.83927 7.34597C8.89788 7.40458 8.97736 7.4375 9.06024 7.4375C9.14312 7.4375 9.22261 7.40458 9.28121 7.34597C9.33982 7.28737 9.37274 7.20788 9.37274 7.125V4.9375C9.37244 4.63359 9.28361 4.33636 9.11712 4.08211C8.95063 3.82787 8.71369 3.62763 8.43524 3.50586ZM7.34149 0.5625H2.65399C2.36391 0.5625 2.08571 0.677734 1.88059 0.882852C1.67548 1.08797 1.56024 1.36617 1.56024 1.65625V3.0625C1.56025 3.07461 1.56307 3.08655 1.56849 3.09737C1.5739 3.1082 1.58175 3.11763 1.59143 3.1249C1.60111 3.13217 1.61235 3.1371 1.62426 3.13928C1.63616 3.14147 1.64842 3.14086 1.66005 3.1375C1.83064 3.0876 2.0075 3.06235 2.18524 3.0625H2.26786C2.28714 3.06262 2.30579 3.05561 2.32021 3.04281C2.33464 3.03001 2.34381 3.01233 2.34598 2.99316C2.36303 2.84047 2.43572 2.6994 2.55018 2.5969C2.66464 2.4944 2.81285 2.43766 2.96649 2.4375H4.06024C4.21399 2.43751 4.36234 2.49419 4.47692 2.5967C4.5915 2.69922 4.66428 2.84037 4.68134 2.99316C4.6835 3.01233 4.69268 3.03001 4.70711 3.04281C4.72153 3.05561 4.74018 3.06262 4.75946 3.0625H5.2372C5.25648 3.06262 5.27513 3.05561 5.28955 3.04281C5.30397 3.03001 5.31315 3.01233 5.31532 2.99316C5.33235 2.84057 5.40496 2.69958 5.5193 2.5971C5.63364 2.49461 5.7817 2.4378 5.93524 2.4375H7.02899C7.18274 2.43751 7.33109 2.49419 7.44567 2.5967C7.56025 2.69922 7.63303 2.84037 7.65009 2.99316C7.65225 3.01233 7.66143 3.03001 7.67586 3.04281C7.69028 3.05561 7.70893 3.06262 7.72821 3.0625H7.81024C7.988 3.06241 8.16485 3.08774 8.33544 3.1377C8.34708 3.14106 8.35935 3.14167 8.37128 3.13947C8.3832 3.13727 8.39445 3.13233 8.40413 3.12504C8.41381 3.11774 8.42166 3.10829 8.42706 3.09744C8.43246 3.08658 8.43526 3.07462 8.43524 3.0625V1.65625C8.43524 1.36617 8.32001 1.08797 8.11489 0.882852C7.90977 0.677734 7.63157 0.5625 7.34149 0.5625Z" fill="white"/>
                                </svg>
                                <p>{place.rooms} Rooms</p>
                            </div>
                            <div className="m_place_specs_icon">
                                <svg width="15" height="15" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2.61158 7.05611C2.16998 7.05611 1.8108 6.89654 1.54146 6.57974C1.27213 6.26294 1.09537 5.79283 0.992439 5.10884C0.840877 4.10083 0.991267 3.25123 1.41588 2.71666C1.66588 2.40181 1.994 2.21978 2.3647 2.19048C2.68209 2.16509 3.1565 2.2938 3.6147 3.04986C3.90162 3.5233 4.11978 4.1522 4.21333 4.77525C4.32642 5.5274 4.24224 6.08111 3.95591 6.46763C3.72857 6.77466 3.37896 6.9649 2.91666 7.03404C2.81564 7.04887 2.71367 7.05625 2.61158 7.05611ZM3.37662 9.68755C3.11861 9.68755 2.85709 9.60494 2.62154 9.44615C2.28164 9.21583 2.04637 8.86067 1.96685 8.45787C1.91119 8.17154 1.94459 7.944 2.06881 7.76177C2.27056 7.46587 2.63267 7.39927 3.01587 7.32857C3.0563 7.32115 3.09732 7.31372 3.13892 7.30572C3.2272 7.28892 3.31744 7.26665 3.40494 7.24498C3.73267 7.16412 4.07173 7.08033 4.35162 7.27915C4.53892 7.41197 4.64458 7.63775 4.67622 7.969C4.71216 8.35122 4.63013 8.73267 4.44517 9.04322C4.24615 9.3774 3.94771 9.5983 3.60533 9.66548C3.52998 9.68019 3.45339 9.68758 3.37662 9.68755ZM7.38384 5.18111C7.28184 5.18076 7.18 5.17293 7.07915 5.15767C6.61704 5.08931 6.26743 4.89888 6.04009 4.59126C5.75376 4.20474 5.669 3.65123 5.78267 2.89888C5.87622 2.27525 6.0938 1.64693 6.37935 1.17525C6.83521 0.421929 7.31021 0.291265 7.62935 0.314311C7.99888 0.341265 8.32642 0.520757 8.57681 0.833843C9.00434 1.36841 9.15591 2.22056 9.00376 3.23306C8.90083 3.91665 8.72642 4.38443 8.45474 4.70396C8.18306 5.02349 7.82544 5.18111 7.38384 5.18111ZM6.6188 7.81255C6.54223 7.81254 6.46583 7.80515 6.39068 7.79048C6.04771 7.7233 5.74927 7.5024 5.55083 7.16822C5.36587 6.85767 5.28384 6.47622 5.31978 6.094C5.35103 5.76197 5.4565 5.53697 5.64439 5.40396C5.92427 5.20533 6.26333 5.28892 6.59107 5.36998C6.67857 5.39146 6.7688 5.41372 6.85708 5.43072L6.97993 5.45357C7.36333 5.52408 7.72544 5.59029 7.9272 5.88658C8.05142 6.0688 8.08482 6.29673 8.02915 6.58267C7.9497 6.98556 7.71442 7.3408 7.37446 7.57115C7.13755 7.73013 6.87603 7.81255 6.6188 7.81255Z" fill="white"/>
                                </svg>
                                <p>{place.area} m2</p>
                            </div>
                        </div>
                    </div>
                    <div className='m_place_look'>
                    
                    <Link to={`/place?id=${place._id}`}>LOOK NOW </Link>

                    </div>

                </div>
                })}
                
               
                
            </div>
        </div>
     );
}

export default Magic
